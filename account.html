<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account - Smart Hostel</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* --- SHARED CSS --- */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { display: flex; background-color: #f4f7f6; min-height: 100vh; }

        .sidebar {
            width: 260px; background-color: #1a222d; color: white;
            display: flex; flex-direction: column; position: fixed; height: 100vh;
        }
        .brand { padding: 25px; display: flex; align-items: center; gap: 15px; border-bottom: 1px solid #2d3748; }
        .brand img { width: 45px; height: 45px; border-radius: 50%; border: 2px solid #12b48d; }
        .brand-text h3 { font-size: 16px; font-weight: 600; }
        .brand-text p { font-size: 11px; color: #888; }

        .nav-links { list-style: none; padding: 20px 15px; flex-grow: 1; }
        .nav-links li { margin-bottom: 8px; }
        .nav-links a {
            color: #a0aec0; text-decoration: none; display: flex; align-items: center;
            padding: 12px 15px; border-radius: 8px; font-size: 14px; gap: 12px; transition: 0.3s;
        }
        .nav-links a:hover { background-color: rgba(18, 180, 141, 0.1); color: #12b48d; }
        .nav-links li.active a { background-color: #12b48d; color: white; }

        .logout { padding: 25px; border-top: 1px solid #2d3748; }
        .logout a { color: #a0aec0; text-decoration: none; display: flex; align-items: center; gap: 10px; font-size: 14px; }

        .main-content { flex: 1; margin-left: 260px; padding: 35px; }
        header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        .header-title h1 { font-size: 24px; color: #111; }
        .header-title p { color: #888; font-size: 14px; margin-top: 5px; }

        .btn-export {
            background: #12b48d; color: white; border: none; padding: 10px 20px;
            border-radius: 8px; cursor: pointer; display: flex; align-items: center; gap: 8px; font-weight: 500;
        }

        .account-grid { display: grid; grid-template-columns: 320px 1fr; gap: 25px; margin-top: 20px; }
        .card { background: white; border-radius: 12px; padding: 25px; border: 1px solid #e0e0e0; }

        .profile-side { text-align: center; }
        .circle-icon {
            width: 90px; height: 90px; border-radius: 50%; display: flex;
            align-items: center; justify-content: center; margin: 0 auto 15px; font-size: 35px;
        }
        .green-bg { background: #e0f7f3; color: #12b48d; }
        .blue-bg { background: #e0f2fe; color: #0ea5e9; }

        .v-list { text-align: left; border-top: 1px solid #f0f0f0; padding-top: 20px; }
        .v-item { display: flex; align-items: center; gap: 12px; font-size: 13px; color: #555; margin-bottom: 12px; }
        .v-item i { color: #12b48d; }

        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; }
        .form-group { display: flex; flex-direction: column; gap: 8px; }
        .form-group label { font-size: 12px; font-weight: 600; color: #666; text-transform: uppercase; }
        .form-group input {
            padding: 11px; border: 1px solid #ddd; border-radius: 8px;
            background: #fcfcfc; font-size: 14px; color: #444; transition: 0.3s;
        }
        .form-group input.editing { border-color: #12b48d; background-color: white; outline: none; box-shadow: 0 0 5px rgba(18, 180, 141, 0.2); }
        .full-width { grid-column: span 2; }

        /* Security Table Styles */
        .table-container { margin-top: 25px; background: white; border-radius: 12px; border: 1px solid #e0e0e0; padding: 25px; }
        .sec-row {
            display: flex; justify-content: space-between; align-items: center;
            background: #f9fafb; padding: 15px 20px; border-radius: 10px; margin-top: 15px;
        }
        .sec-info { display: flex; align-items: center; gap: 15px; }
        .small-circle { width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        .sec-text h4 { font-size: 14px; color: #333; }
        .sec-text p { font-size: 12px; color: #888; }
        
        .btn-sec {
            background: #cfdcf7; color: #5c7fdb; border: none; padding: 7px 18px;
            border-radius: 20px; font-weight: 600; font-size: 12px; cursor: pointer; transition: 0.3s;
        }
        .btn-sec:hover { opacity: 0.8; }
        .btn-dark { background: #4b5563; color: white; }

        /* Modal Styles */
        .modal {
            display: none; position: fixed; z-index: 1000; left: 0; top: 0;
            width: 100%; height: 100%; background: rgba(0,0,0,0.5); align-items: center; justify-content: center;
        }
        .modal-content {
            background: white; padding: 30px; border-radius: 12px; width: 400px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2); position: relative;
        }
        .modal-header { margin-bottom: 20px; }
        .modal-header h2 { font-size: 18px; color: #1a222d; }
        .close-btn { position: absolute; right: 20px; top: 20px; cursor: pointer; font-size: 20px; color: #888; }
        .confirm-btn {
            width: 100%; background: #12b48d; color: white; border: none;
            padding: 12px; border-radius: 8px; margin-top: 20px; cursor: pointer; font-weight: 600;
        }
    </style>
</head>
<body>

    <div class="sidebar">
        <div class="brand">
            <img src="images/warden-photo.jpg" alt="Profile">
            <div class="brand-text"><h3>Warden Panel</h3><p>Smart Hostel</p></div>
        </div>
        <ul class="nav-links">
            <li><a href="index.html"><i class="fas fa-th-large"></i> Dashboard</a></li>
            <li><a href="view_student.html"><i class="fas fa-users"></i> View Student</a></li>
            <li><a href="attendance.html"><i class="fas fa-clipboard-check"></i> Attendance</a></li>
            <li><a href="room_allocation.html"><i class="fas fa-door-open"></i> Room Allocation</a></li>
            <li class="active"><a href="account.html"><i class="fas fa-user"></i> Account</a></li>
            <li><a href="settings.html"><i class="fas fa-cog"></i> Setting</a></li>
        </ul>
        <div class="logout"><a href="#"><i class="fas fa-sign-out-alt"></i> Logout</a></div>
    </div>

    <div class="main-content">
        <header>
            <div class="header-title">
                <h1>My Account</h1>
                <p>Manage your profile information</p>
            </div>
            <button class="btn-export" id="editBtn" onclick="toggleEditMode()">
                <i class="far fa-edit"></i> <span id="btnText">Edit Profile</span>
            </button>
        </header>

        <div class="account-grid">
            <div class="card profile-side">
                <div class="circle-icon green-bg"><i class="fas fa-user"></i></div>
                <h2 id="display-name">Dr. Seetha Kumari</h2>
                <p class="role">Hostel Administration</p>
                <div class="v-list">
                    <div class="v-item"><i class="fas fa-check-circle"></i> Verified Account</div>
                    <div class="v-item"><i class="fas fa-calendar-alt"></i> Joined 1/15/2020</div>
                    <div class="v-item"><i class="fas fa-id-badge"></i> WRD-2024-001</div>
                </div>
            </div>

            <div class="card">
                <h3 style="margin-bottom: 20px; font-size: 17px;">Personal Information</h3>
                <div class="form-grid">
                    <div class="form-group"><label>Full Name</label><input type="text" id="input-name" class="profile-input" value="Dr. Seetha Kumari" disabled></div>
                    <div class="form-group"><label>Employee ID</label><input type="text" class="profile-input" value="WRD-2024-001" disabled></div>
                    <div class="form-group"><label>E-mail Address</label><input type="text" class="profile-input" value="warden@hostel.com" disabled></div>
                    <div class="form-group"><label>Phone Number</label><input type="text" class="profile-input" value="+94 77 123 4567" disabled></div>
                    <div class="form-group"><label>Department</label><input type="text" class="profile-input" value="Administration" disabled></div>
                    <div class="form-group"><label>Qualification</label><input type="text" class="profile-input" value="Ph.D. Management" disabled></div>
                    <div class="form-group full-width"><label>Address</label><input type="text" class="profile-input" value="No 12, Smart Hostel, University Way" disabled></div>
                    <div class="form-group"><label>Emergency contact</label><input type="text" class="profile-input" value="+94 11 222 3333" disabled></div>
                    <div class="form-group"><label>Join Date</label><input type="text" class="profile-input" value="15/01/2020" disabled></div>
                </div>
            </div>
        </div>

        <div class="table-container">
            <h3 style="font-size: 17px;">Security Settings</h3>
            <div class="sec-row">
                <div class="sec-info">
                    <div class="small-circle blue-bg"><i class="fas fa-lock"></i></div>
                    <div class="sec-text"><h4>Change Password</h4><p>Update your password regularly</p></div>
                </div>
                <button class="btn-sec" onclick="openPwModal()">Change</button>
            </div>
            <div class="sec-row">
                <div class="sec-info">
                    <div class="small-circle green-bg"><i class="fas fa-shield-alt"></i></div>
                    <div class="sec-text"><h4>Two-Factor Authentication</h4><p>Add an extra layer of security</p></div>
                </div>
                <button class="btn-sec btn-dark" id="tfaBtn" onclick="toggleTFA()">Enable</button>
            </div>
        </div>
    </div>

    <div id="passwordModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closePwModal()">&times;</span>
            <div class="modal-header"><h2>Update Password</h2></div>
            <div class="form-group" style="margin-bottom: 15px;">
                <label>New Password</label>
                <input type="password" id="newPw" style="width: 100%; margin-top: 5px;">
            </div>
            <div class="form-group">
                <label>Confirm Password</label>
                <input type="password" id="confirmPw" style="width: 100%; margin-top: 5px;">
            </div>
            <button class="confirm-btn" onclick="savePassword()">Update Password</button>
        </div>
    </div>

    <script>
        // 1. Profile Edit Logic
        function toggleEditMode() {
            const inputs = document.querySelectorAll('.profile-input');
            const btn = document.getElementById('editBtn');
            const btnText = document.getElementById('btnText');
            const isEditing = !inputs[0].disabled;

            inputs.forEach(input => {
                input.disabled = isEditing;
                if (!isEditing) {
                    input.classList.add('editing');
                } else {
                    input.classList.remove('editing');
                }
            });

            if (!isEditing) {
                btnText.innerText = "Save Changes";
                btn.style.backgroundColor = "#2563eb"; 
            } else {
                // Update the sidebar/card name display if it was changed
                document.getElementById('display-name').innerText = document.getElementById('input-name').value;
                btnText.innerText = "Edit Profile";
                btn.style.backgroundColor = "#12b48d";
                alert("Profile details saved successfully!");
            }
        }

        // 2. Security: Password Modal Logic
        function openPwModal() { document.getElementById('passwordModal').style.display = 'flex'; }
        function closePwModal() { document.getElementById('passwordModal').style.display = 'none'; }

        function savePassword() {
            const p1 = document.getElementById('newPw').value;
            const p2 = document.getElementById('confirmPw').value;
            if(!p1 || !p2) return alert("Please fill all fields");
            if(p1 !== p2) return alert("Passwords do not match!");
            
            alert("Password updated successfully!");
            closePwModal();
        }

        // 3. Security: TFA Toggle Logic
        function toggleTFA() {
            const btn = document.getElementById('tfaBtn');
            if(btn.innerText === "Enable") {
                if(confirm("Enable Two-Factor Authentication?")) {
                    btn.innerText = "Disable";
                    btn.classList.remove('btn-dark');
                    btn.style.backgroundColor = "#e74c3c"; // Red for disable
                }
            } else {
                btn.innerText = "Enable";
                btn.classList.add('btn-dark');
                btn.style.backgroundColor = ""; // Reset
            }
        }

        // Close modal if user clicks outside of it
        window.onclick = function(event) {
            let modal = document.getElementById('passwordModal');
            if (event.target == modal) closePwModal();
        }
        
    </script>
</body>
</html>